@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default Dark Theme (VS Code Zen) */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    --vscode-bg-image: none;
    --vscode-bg-size: auto;
  }

  /* Dark Theme (Default) - VS Code Zen */
  :root[data-theme='dark'] {
    --vscode-bg: #1F1F1F;
    --vscode-sidebar: #181818;
    --vscode-text: #e5e5e5;
    --vscode-accent: #ffffff;
    --vscode-highlight: #262626;
    --vscode-border: #262626;
    --vscode-tag-bg: #262626;
    --vscode-tag-text: #e5e5e5;
  }

  /* Light Theme */
  :root[data-theme='light'] {
    --vscode-bg: #ffffff;
    --vscode-sidebar: #f3f3f3;
    --vscode-text: #333333;
    --vscode-accent: #007acc;
    /* VS Code Blue */
    --vscode-highlight: #e1e1e1;
    --vscode-border: #e1e1e1;
    --vscode-tag-bg: #e1e1e1;
    --vscode-tag-text: #333333;
  }

  /* Retro / Terminal Theme */
  :root[data-theme='retro'] {
    --vscode-bg: #0d1117;
    /* Very Dark Blue/Black */
    --vscode-sidebar: #010409;
    --vscode-text: #00ff00;
    /* Bright Green */
    --vscode-accent: #00ff00;
    --vscode-highlight: #161b22;
    --vscode-border: #30363d;
    --vscode-tag-bg: #30363d;
    --vscode-tag-text: #00ff00;
  }

  /* Markdown / Paper Theme */
  :root[data-theme='markdown'] {
    --vscode-bg: #fdfdfd;
    /* Paper White */
    --vscode-sidebar: #f0f0f0;
    --vscode-text: #24292e;
    --vscode-accent: #d73a49;
    /* Red accent usually seen in markdown links/code */
    --vscode-highlight: #ffeef0;
    --vscode-border: #e1e4e8;
    --vscode-tag-bg: #f6f8fa;
    --vscode-tag-text: #24292e;
  }

  /* Spatial / Shopify BFCM Theme */
  :root[data-theme='spatial'] {
    --vscode-bg: #000000;
    --vscode-sidebar: #0a0a0a;
    --vscode-text: #e0e0e0;
    --vscode-accent: #ff6b00;
    /* Neon Orange */
    --vscode-highlight: #1a1a1a;
    --vscode-border: #333333;
    --vscode-tag-bg: #333333;
    --vscode-tag-text: #ff6b00;

    /* Grid pattern for background */
    --vscode-bg-image: radial-gradient(#333 1px, transparent 1px);
    --vscode-bg-size: 20px 20px;
  }

  /* Pixel Theme (Pixelact UI) */
  :root[data-theme='pixel'] {
    --background: 260 20% 98%;
    --foreground: 260 20% 10%;
    --card: 260 20% 98%;
    --card-foreground: 260 20% 10%;
    --popover: 260 20% 98%;
    --popover-foreground: 260 20% 10%;
    --primary: 260 100% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 260 20% 90%;
    --secondary-foreground: 260 20% 10%;
    --muted: 260 10% 90%;
    --muted-foreground: 260 10% 40%;
    --accent: 260 20% 90%;
    --accent-foreground: 260 20% 10%;
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 260 20% 10%;
    --input: 260 20% 10%;
    --ring: 260 100% 60%;
    --radius: 0px;

    --font-pixel: 'Press Start 2P', system-ui, sans-serif;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', sans-serif;
  }

  /* Code block styling - Zen Minimal */
  pre {
    @apply bg-card border border-border rounded-md p-4 my-4 overflow-x-auto text-sm font-code;
  }

  code {
    @apply font-mono text-muted-foreground;
  }

  /* Typography */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-semibold text-foreground tracking-tight;
  }

  h1 {
    @apply text-4xl mb-6 mt-8 font-bold tracking-tighter;
  }

  h2 {
    @apply text-3xl mb-4 mt-8 font-semibold tracking-tight;
  }

  h3 {
    @apply text-2xl mb-3 mt-6;
  }

  h4 {
    @apply text-xl mb-2 mt-5;
  }

  p {
    @apply mb-4 leading-relaxed text-muted-foreground;
  }

  a {
    @apply text-foreground hover:text-white underline-offset-4 hover:underline transition-all duration-200;
  }

  /* Navigation Link - Minimal */
  .nav-link {
    @apply relative text-muted-foreground hover:text-foreground transition-colors;
  }

  /* Tags - Outlined style */
  .tag {
    @apply inline-block px-2.5 py-1 bg-transparent border border-border text-xs rounded-md mr-2 mb-2 text-muted-foreground hover:text-foreground hover:border-foreground/50 transition-colors;
  }

  /* Section Outlines - New utility for the 'outline' look */
  .zen-section {
    @apply border-y border-border py-12;
  }

  /* Pixel Utilities */
  .pixel-border {
    box-shadow:
      -2px 0 0 0 var(--border),
      2px 0 0 0 var(--border),
      0 -2px 0 0 var(--border),
      0 2px 0 0 var(--border);
    margin: 2px;
  }

  /* Apply pixel font when theme is active */
  [data-theme='pixel'] body {
    overflow-x: hidden;
  }

  [data-theme='pixel'] * {
    font-family: 'Press Start 2P', cursive !important;
    letter-spacing: -1px;
    border-width: 2px !important;
  }

  /* Specific typography adjustments for Pixel Theme to prevent "too big" text */
  [data-theme='pixel'] p,
  [data-theme='pixel'] span,
  [data-theme='pixel'] a,
  [data-theme='pixel'] button,
  [data-theme='pixel'] div {
    font-size: 0.7rem !important;
    /* Scale down heavily as Press Start is huge */
    line-height: 1.6 !important;
  }

  [data-theme='pixel'] h1 {
    font-size: 1.5rem !important;
    margin-bottom: 2rem !important;
  }

  [data-theme='pixel'] h2 {
    font-size: 1.2rem !important;
    margin-bottom: 1.5rem !important;
  }

  [data-theme='pixel'] h3 {
    font-size: 1rem !important;
  }

  [data-theme='pixel'] h4 {
    font-size: 0.9rem !important;
  }

  /* Center container adjustment for pixel theme */
  [data-theme='pixel'] main>div>div {
    max-width: 90% !important;
    /* Force more margin on sides */
  }
}